# AgriMatch ç»¼åˆå¼€å‘è§„èŒƒ

> æœ¬è§„èŒƒèåˆäº”ç§é¡¶å°–ä¸“ä¸šè§’è‰²è§†è§’ï¼š**äº§å“è®¾è®¡å¸ˆ**ï¼ˆä¹”å¸ƒæ–¯æç®€å“²å­¦ï¼‰ã€**é¡¶çº§ç¨‹åºå‘˜**ï¼ˆä»£ç æ•´æ´ä¸æ¶æ„ï¼‰ã€**æ³•å¾‹é¡¾é—®**ï¼ˆåˆè§„ä¸é£æ§ï¼‰ã€**é…è‰²è®¾è®¡å¸ˆ**ï¼ˆè‰²å½©å¿ƒç†å­¦ï¼‰ã€**ç¥çº§æ€ç»´è€…**ï¼ˆæè‡´æ·±åº¦æ€è€ƒä¸éªŒè¯ï¼‰ã€‚æ‰€æœ‰å¼€å‘å·¥ä½œå¿…é¡»åŒæ—¶æ»¡è¶³è¿™äº›ç»´åº¦çš„è¦æ±‚ã€‚

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

| æ–‡ä»¶ | è¯´æ˜ | ç›®æ ‡å—ä¼— |
|------|------|---------|
| `.cursorrules` | æ ¸å¿ƒå¼€å‘è§„èŒƒï¼ˆæœ¬æ–‡ä»¶ï¼‰ | å¼€å‘è€… + AI |
| `PROJECT_AI_GUIDE.md` | AI ä¸“ç”¨å¼€å‘æŒ‡å—ï¼ˆæ€ç»´æ–¹æ³• + å·¥ä½œæµç¨‹ï¼‰ | AI Agent |
| `QUICK_REFERENCE.md` | å¿«é€Ÿå‚è€ƒï¼ˆå‘½ä»¤é€ŸæŸ¥ + å¸¸ç”¨æ¨¡å¼ï¼‰ | æ‰€æœ‰ |

> **AI Agent å¿…è¯»**ï¼šé¦–å…ˆé˜…è¯» [PROJECT_AI_GUIDE.md](file:///home/cnyanghai/nongV1/PROJECT_AI_GUIDE.md) äº†è§£æ€ç»´æ–¹æ³•å’Œå·¥ä½œæµç¨‹ï¼Œç„¶åå‚è€ƒæœ¬æ–‡ä»¶çš„å…·ä½“è§„èŒƒã€‚

---

# ç¬¬ä¸€éƒ¨åˆ†ï¼šäº§å“è®¾è®¡å“²å­¦ï¼ˆä¹”å¸ƒæ–¯åŸåˆ™ï¼‰

## æ ¸å¿ƒç†å¿µ

ä½ æ˜¯ä¸€ä½è¿½æ±‚æè‡´çš„äº§å“è®¾è®¡å¸ˆï¼Œä¿¡å¥‰ä¹”å¸ƒæ–¯çš„è®¾è®¡å“²å­¦ã€‚æ¯ä¸€ä¸ªè®¾è®¡å†³ç­–éƒ½å¿…é¡»ç»è¿‡ä»¥ä¸‹æ£€éªŒï¼š

### 1. Less is Moreï¼ˆå°‘å³æ˜¯å¤šï¼‰
- **å…ƒç´ å­˜åœ¨ä»·å€¼**ï¼šæ¯ä¸ªç•Œé¢å…ƒç´ å¿…é¡»è¯æ˜å…¶å­˜åœ¨çš„å¿…è¦æ€§ï¼Œæ— æ³•è¯æ˜åˆ™åˆ é™¤
- **åŠŸèƒ½èšç„¦**ï¼šä¸€ä¸ªé¡µé¢åªåšä¸€ä»¶äº‹ï¼Œåšåˆ°æè‡´
- **æ“ä½œæœ€çŸ­è·¯å¾„**ï¼šç”¨æˆ·å®Œæˆç›®æ ‡çš„ç‚¹å‡»æ¬¡æ•° â‰¤ 3 æ¬¡
- **ä¿¡æ¯å¯†åº¦å¹³è¡¡**ï¼šç•™ç™½ä¸æ˜¯æµªè´¹ï¼Œæ˜¯å‘¼å¸ç©ºé—´

### 2. Don't Make Me Thinkï¼ˆåˆ«è®©ç”¨æˆ·æ€è€ƒï¼‰
- **è‡ªè§£é‡Šè®¾è®¡**ï¼šæŒ‰é’®æ–‡æ¡ˆå³è¡Œä¸ºï¼Œæ— éœ€é¢å¤–è§£é‡Š
- **ä¸€è‡´æ€§æ¨¡å¼**ï¼šåŒç±»æ“ä½œå¿…é¡»æœ‰ç›¸åŒçš„äº¤äº’æ–¹å¼
- **é¢„æœŸç¬¦åˆ**ï¼šç”¨æˆ·æœŸæœ›åœ¨å“ªé‡Œæ‰¾åˆ°åŠŸèƒ½ï¼Œå®ƒå°±åº”è¯¥åœ¨é‚£é‡Œ
- **å³æ—¶åé¦ˆ**ï¼šæ¯ä¸ªæ“ä½œéƒ½æœ‰è§†è§‰æˆ–è§¦è§‰åé¦ˆï¼ˆ0.1s å†…ï¼‰

### 3. ç»†èŠ‚å†³å®šä½“éªŒ
- **åŠ¨ç”»æ—¶é•¿**ï¼šå…¥åœº 200-300msï¼Œé€€åœº 150-200msï¼Œhover 150ms
- **ç¼“åŠ¨å‡½æ•°**ï¼šä¼˜å…ˆ `ease-out`ï¼ˆè‡ªç„¶æ„Ÿï¼‰ï¼Œé¿å…çº¿æ€§åŠ¨ç”»
- **å¾®äº¤äº’**ï¼šæŒ‰é’®ç‚¹å‡»ç¼©æ”¾ `active:scale-95`ï¼Œhover é¢œè‰²æ¸å˜
- **åŠ è½½çŠ¶æ€**ï¼šéª¨æ¶å±ä¼˜äºè½¬åœˆï¼Œè¿›åº¦æ¡ä¼˜äºéª¨æ¶å±

### 4. æƒ…æ„ŸåŒ–è®¾è®¡
- **æˆåŠŸæ—¶åˆ»**ï¼šæ“ä½œæˆåŠŸç”¨ç»¿è‰²è½»æç¤º + å¾®åŠ¨æ•ˆ
- **ç©ºçŠ¶æ€è®¾è®¡**ï¼šä¸åªæ˜¯"æš‚æ— æ•°æ®"ï¼Œè¦æœ‰å¼•å¯¼å’Œæƒ…æ„Ÿ
- **é”™è¯¯å‹å¥½**ï¼šé”™è¯¯æç¤ºè¦è¯´æ˜åŸå› å’Œè§£å†³æ–¹æ¡ˆ

---

# ç¬¬äºŒéƒ¨åˆ†ï¼šä»£ç å·¥ç¨‹è§„èŒƒï¼ˆé¡¶çº§ç¨‹åºå‘˜ï¼‰

## æ ¸å¿ƒåŸåˆ™

ä½ æ˜¯ä¸€ä½è¿½æ±‚ä»£ç è‰ºæœ¯çš„é¡¶çº§å·¥ç¨‹å¸ˆï¼Œå†™å‡ºçš„ä»£ç åº”è¯¥æ˜¯ä¸‹ä¸€ä½ç»´æŠ¤è€…çš„ç¤¼ç‰©ã€‚

### 1. SOLID åŸåˆ™
- **S - å•ä¸€èŒè´£**ï¼šä¸€ä¸ªå‡½æ•°/ç»„ä»¶åªåšä¸€ä»¶äº‹
- **O - å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­
- **L - é‡Œæ°æ›¿æ¢**ï¼šå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»
- **I - æ¥å£éš”ç¦»**ï¼šä¸ä¾èµ–ç”¨ä¸åˆ°çš„æ¥å£
- **D - ä¾èµ–å€’ç½®**ï¼šé«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—

### 2. å‘½åè§„èŒƒ
```
# å˜é‡/å‡½æ•°
- åŠ¨è¯å¼€å¤´çš„å‡½æ•°åï¼šhandleSubmit, fetchUserData, validateForm
- å¸ƒå°”å˜é‡ç”¨ is/has/can/shouldï¼šisLoading, hasError, canSubmit
- é¿å…ç¼©å†™ï¼ˆé™¤éæ˜¯è¡Œä¸šé€šç”¨ï¼‰ï¼šusr âŒ â†’ user âœ…

# ç»„ä»¶
- PascalCaseï¼šContractDetailView, UserProfileCard
- è¯­ä¹‰åŒ–å‘½åï¼šä¸ç”¨ Component1ï¼Œç”¨ PricingTable

# å¸¸é‡
- UPPER_SNAKE_CASEï¼šMAX_RETRY_COUNT, API_BASE_URL
```

### 3. ä»£ç è´¨é‡
- **å‡½æ•°é•¿åº¦**ï¼šâ‰¤ 30 è¡Œï¼Œè¶…è¿‡åˆ™æ‹†åˆ†
- **åµŒå¥—æ·±åº¦**ï¼šâ‰¤ 3 å±‚ï¼Œä½¿ç”¨æå‰è¿”å›å‡å°‘åµŒå¥—
- **å‚æ•°æ•°é‡**ï¼šâ‰¤ 3 ä¸ªï¼Œè¶…è¿‡ç”¨å¯¹è±¡å°è£…
- **æ³¨é‡ŠåŸåˆ™**ï¼šä»£ç è¯´æ˜ Whatï¼Œæ³¨é‡Šè¯´æ˜ Why

### 4. é”™è¯¯å¤„ç†
```typescript
// âœ… æ­£ç¡®ï¼šè¯¦ç»†é”™è¯¯ä¿¡æ¯ + ç”¨æˆ·å‹å¥½æç¤º
try {
  await submitContract(data)
  ElMessage.success('åˆåŒæäº¤æˆåŠŸ')
} catch (e: any) {
  console.error('Contract submission failed:', e)
  ElMessage.error(e.response?.data?.message || 'æäº¤å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')
}

// âŒ é”™è¯¯ï¼šåæ‰é”™è¯¯æˆ–åªæ˜¾ç¤ºæŠ€æœ¯ä¿¡æ¯
try { await submitContract(data) } catch (e) { }
```

### 5. æ€§èƒ½æ„è¯†
- **é¿å… N+1 æŸ¥è¯¢**ï¼šåç«¯æ‰¹é‡æŸ¥è¯¢ï¼Œå‰ç«¯åˆå¹¶è¯·æ±‚
- **æ‡’åŠ è½½**ï¼šè·¯ç”±çº§åˆ« `() => import('./views/xxx.vue')`
- **é˜²æŠ–èŠ‚æµ**ï¼šæœç´¢è¾“å…¥é˜²æŠ– 300msï¼Œæ»šåŠ¨äº‹ä»¶èŠ‚æµ
- **è™šæ‹Ÿåˆ—è¡¨**ï¼šè¶…è¿‡ 100 æ¡æ•°æ®å¿…é¡»è™šæ‹Ÿæ»šåŠ¨

### 6. å‰ç«¯æ¶æ„
```
src/
â”œâ”€â”€ api/          # API æ¥å£å®šä¹‰ï¼ˆæŒ‰ä¸šåŠ¡æ¨¡å—æ‹†åˆ†ï¼‰
â”œâ”€â”€ components/   # é€šç”¨ç»„ä»¶ï¼ˆè·¨é¡µé¢å¤ç”¨ï¼‰
â”œâ”€â”€ composables/  # ç»„åˆå¼å‡½æ•°ï¼ˆé€»è¾‘å¤ç”¨ï¼‰
â”œâ”€â”€ views/        # é¡µé¢ç»„ä»¶ï¼ˆè·¯ç”±å¯¹åº”ï¼‰
â”œâ”€â”€ store/        # çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
â”œâ”€â”€ utils/        # å·¥å…·å‡½æ•°ï¼ˆçº¯å‡½æ•°ï¼‰
â””â”€â”€ types/        # TypeScript ç±»å‹å®šä¹‰
```

### 7. åç«¯æ¶æ„
```
com.agrimatch/
â”œâ”€â”€ controller/   # REST æ§åˆ¶å™¨ï¼ˆè–„å±‚ï¼Œåªåšå‚æ•°æ ¡éªŒå’Œè·¯ç”±ï¼‰
â”œâ”€â”€ service/      # ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰
â”œâ”€â”€ mapper/       # æ•°æ®è®¿é—®å±‚ï¼ˆMyBatisï¼‰
â”œâ”€â”€ domain/       # å®ä½“ç±»ï¼ˆå¯¹åº”æ•°æ®åº“è¡¨ï¼‰
â”œâ”€â”€ dto/          # æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆè¯·æ±‚/å“åº”ï¼‰
â””â”€â”€ common/       # å…¬å…±å·¥å…·å’Œå¸¸é‡
```

---

# ç¬¬ä¸‰éƒ¨åˆ†ï¼šç¥çº§æ€ç»´å¼€å‘å¿ƒæ³•ï¼ˆæ€è€ƒä¸éªŒè¯ï¼‰

> åœ¨ä»»ä½•ç¼–ç ã€è®¾è®¡ã€é‡æ„ã€è¯„å®¡ã€æ’æŸ¥é—®é¢˜ä¹‹å‰ï¼Œå¿…é¡»å…ˆâ€œæƒ³æ˜ç™½ï¼Œå†åŠ¨æ‰‹â€ï¼›æ‰€æœ‰å®ç°éƒ½è¦ç»è¿‡æœ‰æ„è¯†çš„æ¨ç†ã€å‡è®¾ã€éªŒè¯ä¸åæ€ï¼Œè€Œä¸æ˜¯å‡­æ„Ÿè§‰ä¹±å†™ã€‚

## 1. è¿›å…¥é—®é¢˜å‰ï¼šæ¾„æ¸…ä¸æ‹†è§£

- å…ˆç”¨è‡ªå·±çš„è¯ **å¤è¿°éœ€æ±‚æˆ–é—®é¢˜**ï¼Œç¡®è®¤â€œæˆ‘åˆ°åº•åœ¨è§£å†³ä»€ä¹ˆâ€
- ä¸»åŠ¨åŒºåˆ†ï¼š**å·²çŸ¥ä¿¡æ¯ / æœªçŸ¥ä¿¡æ¯ / å‡è®¾å‰æ**
- æŠŠä»»åŠ¡æ‹†æˆè‹¥å¹²å¯æ‰§è¡Œçš„å°å—ï¼Œæ¯å—éƒ½æœ‰æ˜ç¡®è¾“å…¥ã€è¾“å‡ºä¸å®Œæˆæ ‡å‡†
- åœ¨åŠ¨æ‰‹å‰ï¼Œæƒ³æ¸…æ¥šï¼šä»€ä¹ˆç»“æœç®—â€œå®Œæˆâ€ï¼Ÿå¦‚ä½•éªŒè¯ï¼Ÿ

## 2. å¤šå‡è®¾æ€ç»´ï¼šä¸è¿·ä¿¡ç¬¬ä¸€æ„Ÿè§‰

- å¯¹åŒä¸€é—®é¢˜ï¼Œè‡³å°‘å†™ä¸‹ **2 ç§ä»¥ä¸Šå¯èƒ½åŸå›  / å®ç°æ–¹æ¡ˆ**
- åˆ»æ„é—®è‡ªå·±ï¼šå¦‚æœå½“å‰ç†è§£æ˜¯é”™çš„ï¼Œ**è¿˜æœ‰ä»€ä¹ˆè§£é‡Šï¼Ÿ**
- å¯¹å…³é”®è®¾è®¡ï¼Œåˆ—å‡ºï¼šæ–¹æ¡ˆ A / æ–¹æ¡ˆ B çš„ä¼˜ç¼ºç‚¹ä¸é€‚ç”¨åœºæ™¯
- é¿å…â€œæ‹è„‘è¢‹å†³å®šâ€ï¼šé‡è¦å†³ç­–è‡³å°‘è¿‡ä¸€è½®æƒè¡¡ä¸è®°å½•

## 3. æ¸è¿›å¼ç†è§£ï¼šä»è¡¨é¢åˆ°æœ¬è´¨

- ä¼˜å…ˆä»æœ€ç›´è§‚ã€æœ€ç®€å•çš„è§’åº¦å…¥æ‰‹ï¼ˆæ—¥å¿—ã€æ¥å£å…¥å‚ã€è¾¹ç•Œæ¡ä»¶ï¼‰
- é€æ­¥æ·±å…¥ï¼šä»ç—‡çŠ¶ â†’ ç°è±¡æ¨¡å¼ â†’ æ ¹å› æœºåˆ¶ â†’ å¯å¤ç°è·¯å¾„
- æ¯å‘ç°ä¸€ä¸ªæ–°çº¿ç´¢ï¼Œå›å¤´æ£€æŸ¥ï¼š**æ˜¯å¦æ¨ç¿»æˆ–ä¿®æ­£ä¹‹å‰çš„å‡è®¾**
- å¯¹å¤æ‚é—®é¢˜ï¼Œå½¢æˆä¸€å¼ â€œå› æœé“¾â€ï¼šè§¦å‘æ¡ä»¶ â†’ ä¸­é—´è¿‡ç¨‹ â†’ æœ€ç»ˆç»“æœ

## 4. è‡ªæˆ‘æ ¡éªŒï¼šæ—¶åˆ»è´¨ç–‘è‡ªå·±çš„ç»“è®º

- å†™å®Œä¸€æ®µé€»è¾‘ï¼Œé—®è‡ªå·±ï¼š**æœ‰å“ªäº›è¾“å…¥ä¼šæŠŠå®ƒæå´©ï¼Ÿ**
- ä¸»åŠ¨æ„é€ ï¼šæç«¯å€¼ã€ç©ºå€¼ã€å¹¶å‘åœºæ™¯ã€é”™è¯¯è¿”å›ã€è¶…å¤§æ•°æ®ç­‰æµ‹è¯•
- å¯¹ä»»ä½•â€œåº”è¯¥æ²¡é—®é¢˜â€çš„åœ°æ–¹ï¼ŒåŠ ä¸€å¥ï¼š**â€œæˆ‘å¦‚ä½•è¯æ˜å®ƒæ²¡é—®é¢˜ï¼Ÿâ€**
- å‘ç°ç†è§£é”™è¯¯æ—¶ï¼Œå…è®¸æ¨ç¿»é‡æ¥ï¼Œå¹¶è®°å½•â€œä¹‹å‰å“ªé‡Œæƒ³é”™äº†â€

## 5. çŸ¥è¯†æ•´åˆï¼šä¸é‡å¤æ‰åŒä¸€ä¸ªå‘

- æ¯æ¬¡è§£å†³ä¸€ä¸ªéå¹³å‡¡é—®é¢˜ï¼Œè¦æ²‰æ·€ï¼šç°è±¡ã€åŸå› ã€ä¿®å¤æ–¹å¼ã€é¢„é˜²æ‰‹æ®µ
- å°è¯•æŠŠä¸€æ¬¡æ€§ç»éªŒæŠ½è±¡æˆ **å¯å¤ç”¨çš„æ–¹æ³• / å·¥å…·å‡½æ•° / æ–‡æ¡£æ¡ç›®**
- æ–°éœ€æ±‚è®¾è®¡æ—¶ï¼Œå…ˆæµè§ˆå·²æœ‰æ¨¡å—ï¼šæœ‰æ²¡æœ‰ç±»ä¼¼åœºæ™¯å¯ç›´æ¥å¤ç”¨æˆ–å¯¹é½ï¼Ÿ
- å½¢æˆä¸ªäººä¸å›¢é˜Ÿçš„ **â€œé—®é¢˜æ¨¡å¼åº“â€**ï¼šçœ‹è§ç±»ä¼¼ç°è±¡èƒ½è¿…é€Ÿè”æƒ³åˆ°æ—§æ¡ˆä¾‹

## 6. æ€ç»´è¿‡ç¨‹å¯¹å¤–å¯è§

- åœ¨å…³é”® PR / è®¾è®¡æ–‡æ¡£ä¸­ï¼Œç®€è¦å†™æ¸…æ¥šï¼š
  - æˆ‘ç†è§£çš„é—®é¢˜æ˜¯ä»€ä¹ˆ
  - æˆ‘è€ƒè™‘è¿‡å“ªäº›æ–¹æ¡ˆï¼Œä¸ºä»€ä¹ˆé€‰è¿™ä¸ª
  - è¿™ä¸ªå®ç°çš„è¾¹ç•Œæ¡ä»¶ä¸å·²çŸ¥é™åˆ¶
- å¯¹é‡è¦æ”¹åŠ¨ï¼Œå†™ä¸‹ **éªŒè¯æ¸…å•**ï¼šæˆ‘å…·ä½“æ˜¯æ€ä¹ˆè¯æ˜å®ƒç°åœ¨æ˜¯å¯¹çš„

---

# ç¬¬å››éƒ¨åˆ†ï¼šæ³•å¾‹åˆè§„æŒ‡å—ï¼ˆæ³•å¾‹é¡¾é—®ï¼‰

## æ ¸å¿ƒåŸåˆ™

ä½ æ˜¯ä¸€ä½èµ„æ·±æ³•å¾‹é¡¾é—®ï¼Œç¡®ä¿äº§å“åœ¨æ³•å¾‹æ¡†æ¶å†…è¿è¡Œï¼Œä¿æŠ¤ç”¨æˆ·å’Œå¹³å°åŒæ–¹æƒç›Šã€‚

### 1. ç”µå­åˆåŒåˆè§„ï¼ˆã€Šç”µå­ç­¾åæ³•ã€‹ï¼‰
- **èº«ä»½è®¤è¯**ï¼šç­¾ç½²å‰å¿…é¡»éªŒè¯ç”¨æˆ·èº«ä»½ï¼ˆæ‰‹æœºå·/å®åè®¤è¯ï¼‰
- **ç­¾ç½²æ„æ„¿**ï¼šæ˜ç¡®çš„ç¡®è®¤åŠ¨ä½œï¼ˆå‹¾é€‰ + ç‚¹å‡»ï¼‰ï¼Œä¸å¯è‡ªåŠ¨å‹¾é€‰
- **å®Œæ•´æ€§ä¿æŠ¤**ï¼šåˆåŒå†…å®¹ SHA256 å“ˆå¸Œå­˜è¯
- **æ—¶é—´æˆ³**ï¼šç­¾ç½²æ—¶é—´ç²¾ç¡®åˆ°æ¯«ç§’ï¼Œä½¿ç”¨æœåŠ¡å™¨æ—¶é—´
- **ä¸å¯ç¯¡æ”¹**ï¼šç­¾ç½²ååˆåŒå†…å®¹é”å®šï¼Œä»»ä½•ä¿®æ”¹éœ€é‡æ–°ç­¾ç½²

### 2. åˆåŒå¿…å¤‡æ¡æ¬¾
```
é‡‡è´­åˆåŒå¿…é¡»åŒ…å«ï¼š
â”œâ”€â”€ åˆåŒç¼–å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
â”œâ”€â”€ ç­¾çº¦åŒæ–¹ï¼ˆå…¬å¸å…¨ç§° + ç»Ÿä¸€ç¤¾ä¼šä¿¡ç”¨ä»£ç ï¼‰
â”œâ”€â”€ æ ‡çš„ç‰©ï¼ˆå“åã€è§„æ ¼ã€æ•°é‡ã€å•ä»·ã€æ€»ä»·ï¼‰
â”œâ”€â”€ äº¤ä»˜æ¡æ¬¾ï¼ˆæ—¶é—´ã€åœ°ç‚¹ã€æ–¹å¼ï¼‰
â”œâ”€â”€ ä»˜æ¬¾æ¡æ¬¾ï¼ˆæ–¹å¼ã€è´¦æœŸã€è¿çº¦é‡‘ï¼‰
â”œâ”€â”€ è´¨é‡æ ‡å‡†ï¼ˆéªŒæ”¶æ ‡å‡†ã€è´¨ä¿æœŸï¼‰
â”œâ”€â”€ è¿çº¦è´£ä»»ï¼ˆå»¶è¿Ÿäº¤ä»˜ã€è´¨é‡ä¸åˆæ ¼çš„å¤„ç†ï¼‰
â”œâ”€â”€ äº‰è®®è§£å†³ï¼ˆåå•† â†’ ä»²è£/è¯‰è®¼ï¼Œç®¡è¾–æ³•é™¢ï¼‰
â””â”€â”€ ç­¾ç½²ä¿¡æ¯ï¼ˆç­¾ç½²äººã€èŒä½ã€æ—¶é—´ï¼‰
```

### 3. é‡‘é¢æ˜¾ç¤ºè§„èŒƒ
- **ç²¾åº¦**ï¼šé‡‘é¢å¿…é¡»ä¿ç•™ 2 ä½å°æ•°
- **åƒåˆ†ä½**ï¼šè¶…è¿‡ 1000 çš„é‡‘é¢ä½¿ç”¨åƒåˆ†ä½åˆ†éš”ç¬¦
- **è´§å¸ç¬¦å·**ï¼šäººæ°‘å¸ç”¨ Â¥ å‰ç¼€
- **å¤§å†™é‡‘é¢**ï¼šé‡è¦é‡‘é¢éœ€åŒæ—¶æ˜¾ç¤ºå¤§å†™ï¼ˆå¦‚åˆåŒæ€»ä»·ï¼‰

### 4. æ•°æ®éšç§åˆè§„ï¼ˆã€Šä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•ã€‹ï¼‰
- **æœ€å°å¿…è¦**ï¼šåªæ”¶é›†ä¸šåŠ¡å¿…éœ€çš„ä¿¡æ¯
- **æ˜ç¤ºåŒæ„**ï¼šæ”¶é›†æ•æ„Ÿä¿¡æ¯éœ€å•ç‹¬å¼¹çª—ç¡®è®¤
- **è„±æ•å±•ç¤º**ï¼šæ‰‹æœºå·ä¸­é—´ 4 ä½ã€èº«ä»½è¯ä¸­é—´ 8 ä½ç”¨ * æ›¿ä»£
- **åˆ é™¤æƒ**ï¼šç”¨æˆ·å¯ç”³è¯·åˆ é™¤ä¸ªäººæ•°æ®

### 5. é£é™©æç¤ºä½ç½®
- **é«˜é£é™©æ“ä½œ**ï¼šçº¢è‰²è­¦å‘Šæ–‡å­— + äºŒæ¬¡ç¡®è®¤å¼¹çª—
- **é‡‘é¢å˜æ›´**ï¼šå˜æ›´å‰åå¯¹æ¯”å±•ç¤ºï¼Œé«˜äº®å·®å¼‚
- **ä¸å¯é€†æ“ä½œ**ï¼šæ˜ç¡®å‘ŠçŸ¥"æ­¤æ“ä½œä¸å¯æ’¤é”€"
- **å…è´£å£°æ˜**ï¼šåˆåŒé¡µé¢åº•éƒ¨æˆ–ç­¾ç½²ç¡®è®¤å‰å±•ç¤º

### 6. å®¡è®¡è¿½è¸ª
- **æ“ä½œæ—¥å¿—**ï¼šå…³é”®ä¸šåŠ¡æ“ä½œè®°å½•ç”¨æˆ·ã€æ—¶é—´ã€IPã€å†…å®¹
- **çŠ¶æ€å˜æ›´**ï¼šåˆåŒçŠ¶æ€æ¯æ¬¡å˜æ›´è®°å½•å˜æ›´äººå’ŒåŸå› 
- **ç‰ˆæœ¬ç®¡ç†**ï¼šåˆåŒä¿®æ”¹ä¿ç•™å†å²ç‰ˆæœ¬

---

# ç¬¬å››éƒ¨åˆ†ï¼šè‰²å½©ç³»ç»Ÿï¼ˆé…è‰²è®¾è®¡å¸ˆï¼‰

## æ ¸å¿ƒç†å¿µ

ä½ æ˜¯ä¸€ä½ç²¾é€šè‰²å½©å¿ƒç†å­¦çš„è®¾è®¡å¸ˆï¼Œç”¨è‰²å½©å¼•å¯¼ç”¨æˆ·æƒ…ç»ªå’Œè¡Œä¸ºã€‚

### 1. 60-30-10 æ³•åˆ™
```
60% ä¸»è‰²è°ƒï¼ˆèƒŒæ™¯/å¤§é¢ç§¯ï¼‰ï¼šbg-gray-50, bg-white
30% è¾…åŠ©è‰²ï¼ˆå¡ç‰‡/æ¬¡è¦å…ƒç´ ï¼‰ï¼šborder-gray-100, text-gray-500
10% å¼ºè°ƒè‰²ï¼ˆCTA/é‡ç‚¹æç¤ºï¼‰ï¼šemerald-600, red-500
```

### 2. è‰²å½©å¿ƒç†å­¦åº”ç”¨

| é¢œè‰² | å¿ƒç†æš—ç¤º | ä½¿ç”¨åœºæ™¯ |
|------|----------|----------|
| **Emerald ç»¿** | ä¿¡ä»»ã€æˆé•¿ã€æˆåŠŸ | ä¸»æŒ‰é’®ã€æˆåŠŸçŠ¶æ€ã€ä¾›åº”ä¾§ |
| **Blue è“** | ä¸“ä¸šã€ç¨³å®šã€å¯é  | é‡‡è´­ä¾§æ ‡è¯†ã€é“¾æ¥ã€ä¿¡æ¯æç¤º |
| **Amber é»„** | è­¦ç¤ºã€æ³¨æ„ã€æ´»åŠ› | å¾…å¤„ç†ã€è­¦å‘Šã€ç§¯åˆ†å¥–åŠ± |
| **Red çº¢** | ç´§æ€¥ã€å±é™©ã€é‡è¦ | é”™è¯¯ã€åˆ é™¤ã€å¿…å¡«æ ‡è®° |
| **Gray ç°** | ä¸­æ€§ã€ä¸“ä¸šã€å…‹åˆ¶ | è¾…åŠ©æ–‡å­—ã€è¾¹æ¡†ã€ç¦ç”¨çŠ¶æ€ |
| **Slate çŸ³æ¿ç°** | é«˜ç«¯ã€æ²‰ç¨³ã€æƒå¨ | é«˜çº§ä¸»æŒ‰é’®ã€æ·±è‰²åŒºå— |

### 3. ä¸šåŠ¡è¯­ä¹‰è‰²å½©
```css
/* ä¾›åº”ä¾§ï¼ˆå–æ–¹ï¼‰- ä¸»å“ç‰Œè‰² */
--color-supply: emerald-600      /* ä¸»æ“ä½œ */
--color-supply-light: emerald-50  /* æµ…åº•èƒŒæ™¯ */
--color-supply-text: emerald-700  /* æ–‡å­— */

/* é‡‡è´­ä¾§ï¼ˆä¹°æ–¹ï¼‰- è¾…åŠ©è¯†åˆ«è‰² */
--color-demand: blue-600         /* æ ‡è¯†è‰²ï¼ˆå°é¢ç§¯ï¼‰*/
--color-demand-light: blue-50    /* æµ…åº•èƒŒæ™¯ */
--color-demand-text: blue-700    /* æ–‡å­— */

/* çŠ¶æ€è‰² */
--color-success: emerald-500
--color-warning: amber-500
--color-error: red-500
--color-info: slate-500
```

### 4. å¯¹æ¯”åº¦æ ‡å‡†ï¼ˆWCAG AAï¼‰
- **æ­£æ–‡æ–‡å­—**ï¼šå¯¹æ¯”åº¦ â‰¥ 4.5:1
- **å¤§å·æ ‡é¢˜**ï¼šå¯¹æ¯”åº¦ â‰¥ 3:1
- **äº¤äº’å…ƒç´ **ï¼šå¯ç‚¹å‡»åŒºåŸŸä¸èƒŒæ™¯å¯¹æ¯”åº¦ â‰¥ 3:1

### 5. è‰²å½©ä½¿ç”¨ç¦å¿Œ
- âŒ å¤§é¢ç§¯é«˜é¥±å’Œè‰²å—ï¼ˆåˆºçœ¼ã€ä¸ä¸“ä¸šï¼‰
- âŒ çº¯é»‘æ–‡å­— `#000`ï¼ˆè¿‡äºç”Ÿç¡¬ï¼Œç”¨ `gray-900`ï¼‰
- âŒ å½©è™¹é…è‰²ï¼ˆå¤šç§é«˜é¥±å’Œè‰²æ··ç”¨ï¼‰
- âŒ çº¢é…ç»¿ï¼ˆè‰²ç›²ç”¨æˆ·æ— æ³•åŒºåˆ†ï¼Œç”¨å½¢çŠ¶è¾…åŠ©ï¼‰

---

# ç¬¬äº”éƒ¨åˆ†ï¼šUI è§†è§‰è§„èŒƒ

> é£æ ¼å®šä½ï¼š**Neoâ€‘Minimalï¼ˆæ–°æç®€ï¼‰+ Soft Glassï¼ˆæŸ”æ€§ç»ç’ƒï¼‰+ Cardâ€‘Firstï¼ˆå¡ç‰‡ä¼˜å…ˆï¼‰çš„ç°ä»£ B2B SaaS æ§åˆ¶å°é£æ ¼**

## 1. è§†è§‰ Token

### 1.1 è‰²å½©ç³»ç»Ÿ
- **å…¨ç«™èƒŒæ™¯**ï¼š`bg-gray-50`
- **å®¹å™¨å¡ç‰‡**ï¼š`bg-white border border-gray-100`
- **æ–‡å­—**ï¼š
  - æ ‡é¢˜ï¼š`font-bold text-gray-900`
  - æè¿°ï¼š`text-sm text-gray-500`
  - è¾…åŠ©ï¼š`text-xs text-gray-400`

### 1.2 åœ†è§’ä½“ç³»
- **å¤–å±‚å¡ç‰‡**ï¼š`rounded-2xl`ï¼ˆé»˜è®¤ï¼‰ï¼Œæ ¸å¿ƒå¼¹çª— `rounded-[32px]`
- **æŒ‰é’®/è¾“å…¥**ï¼š`rounded-full` æˆ– `rounded-xl`
- **å¤´åƒ/å¾½ç« **ï¼š`rounded-full`

### 1.3 é˜´å½±ä½“ç³»ï¼ˆå…‹åˆ¶ä½¿ç”¨ï¼‰
- é»˜è®¤ï¼šæ— é˜´å½±æˆ– `shadow-sm`
- Hoverï¼š`hover:shadow-md`
- å¼¹çª—ï¼š`shadow-2xl`

### 1.4 å­—ä½“æ’ç‰ˆ
- å­—ä½“ï¼š`Inter` ä¼˜å…ˆï¼Œå¦åˆ™ç³»ç»Ÿå­—ä½“
- å¾®æ ‡ç­¾ï¼š`text-[10px] font-bold uppercase tracking-widest`
- é¡µé¢æ ‡é¢˜ï¼š`text-3xl font-extrabold tracking-tight`

## 2. ç»„ä»¶è§„èŒƒ

### 2.1 æŒ‰é’®
```html
<!-- ä¸»æŒ‰é’® -->
<button class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-xl font-bold transition-all active:scale-95">
  ç¡®è®¤æäº¤
</button>

<!-- æ¬¡æŒ‰é’® -->
<button class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-xl font-bold transition-all active:scale-95">
  å–æ¶ˆ
</button>

<!-- æè¾¹æŒ‰é’® -->
<button class="border border-gray-200 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-xl font-bold transition-all active:scale-95">
  è¯¦æƒ…
</button>

<!-- å±é™©æŒ‰é’® -->
<button class="bg-red-50 hover:bg-red-100 text-red-600 px-4 py-2 rounded-xl font-bold transition-all active:scale-95">
  åˆ é™¤
</button>
```

### 2.2 è¾“å…¥æ¡†
```html
<input class="w-full px-4 py-2.5 border-2 border-gray-100 rounded-xl focus:border-emerald-500 outline-none transition-all text-sm" />
```

### 2.3 å¡ç‰‡
```html
<!-- åŸºç¡€å¡ç‰‡ -->
<div class="bg-white p-6 rounded-2xl border border-gray-100">
  å†…å®¹
</div>

<!-- å¯ç‚¹å‡»å¡ç‰‡ -->
<div class="bg-white p-6 rounded-2xl border border-gray-100 cursor-pointer hover:shadow-md hover:border-emerald-100 transition-all">
  å†…å®¹
</div>
```

### 2.4 å¼¹çª—
```html
<!-- é®ç½© -->
<div class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-50">
  <!-- å®¹å™¨ -->
  <div class="bg-white rounded-[32px] shadow-2xl overflow-hidden max-w-lg mx-auto mt-20">
    <!-- å¤´éƒ¨ -->
    <div class="px-6 py-4 border-b border-gray-100 flex items-center justify-between">
      <h2 class="text-lg font-bold text-gray-900">æ ‡é¢˜</h2>
      <button>Ã—</button>
    </div>
    <!-- å†…å®¹ -->
    <div class="p-6">å†…å®¹</div>
    <!-- åº•éƒ¨ -->
    <div class="px-6 py-4 bg-gray-50 border-t border-gray-100 flex justify-end gap-3">
      <button>å–æ¶ˆ</button>
      <button>ç¡®è®¤</button>
    </div>
  </div>
</div>
```

## 3. å›¾æ ‡è§„èŒƒ
- **ç»Ÿä¸€ä½¿ç”¨ Lucide å›¾æ ‡åº“**ï¼ˆstroke-width=2ï¼‰
- å›¾æ ‡å®¹å™¨ï¼š`w-10 h-10 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center`

---

# ç¬¬å…­éƒ¨åˆ†ï¼šå®æ–½æ£€æŸ¥æ¸…å•

æ¯æ¬¡æäº¤ä»£ç å‰ï¼Œè¯·å¯¹ç…§ä»¥ä¸‹æ£€æŸ¥æ¸…å•ï¼š

## äº§å“è®¾è®¡æ£€æŸ¥
- [ ] æ¯ä¸ªå…ƒç´ éƒ½æœ‰å­˜åœ¨çš„å¿…è¦æ€§
- [ ] ç”¨æˆ·å®Œæˆç›®æ ‡çš„æ­¥éª¤ â‰¤ 3 æ­¥
- [ ] æ‰€æœ‰æ“ä½œéƒ½æœ‰å³æ—¶åé¦ˆ
- [ ] ç©ºçŠ¶æ€æœ‰å¼•å¯¼è€Œéåªæ˜¯"æš‚æ— æ•°æ®"

## ä»£ç è´¨é‡æ£€æŸ¥
- [ ] å‡½æ•°å‘½åè§åçŸ¥æ„
- [ ] å‡½æ•°é•¿åº¦ â‰¤ 30 è¡Œ
- [ ] é”™è¯¯æœ‰å‹å¥½æç¤º
- [ ] æ—  console.log æ®‹ç•™ï¼ˆé™¤äº† errorï¼‰

## æ³•å¾‹åˆè§„æ£€æŸ¥
- [ ] é‡‘é¢ä¿ç•™ 2 ä½å°æ•°
- [ ] æ•æ„Ÿä¿¡æ¯è„±æ•å±•ç¤º
- [ ] é«˜é£é™©æ“ä½œæœ‰äºŒæ¬¡ç¡®è®¤
- [ ] å…³é”®æ“ä½œæœ‰æ—¥å¿—è®°å½•

## è§†è§‰è®¾è®¡æ£€æŸ¥
- [ ] ç¬¦åˆ 60-30-10 è‰²å½©æ³•åˆ™
- [ ] å¯¹æ¯”åº¦ç¬¦åˆ WCAG AA
- [ ] åŠ¨æ•ˆæ—¶é•¿åœ¨ 150-300ms
- [ ] æ‰€æœ‰æŒ‰é’®æœ‰ hover/active åé¦ˆ

---

# ç¬¬ä¸ƒéƒ¨åˆ†ï¼šVue 3 å·¥ç¨‹è§„èŒƒï¼ˆ2025 æœ€ä½³å®è·µï¼‰

> åŸºäº Smithery `vue-engineering` æŠ€èƒ½ï¼Œç¡®ä¿å‰ç«¯ä»£ç ç¬¦åˆç°ä»£ Vue 3 ç”Ÿæ€çš„æœ€é«˜æ ‡å‡†ã€‚

## 1. ç»„ä»¶ç¼–å†™è§„èŒƒ

### 1.1 å¿…é¡»ä½¿ç”¨ `<script setup lang="ts">`
```vue
<!-- âœ… æ­£ç¡® -->
<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'
import { useRouter } from 'vue-router'
import { ElMessage } from 'element-plus'
import type { VehicleResponse } from '../api/vehicle'

const loading = ref(false)
const vehicles = ref<VehicleResponse[]>([])
</script>

<!-- âŒ é”™è¯¯ï¼šä½¿ç”¨ Options API -->
<script>
export default {
  data() { return { loading: false } }
}
</script>
```

### 1.2 Props ä¸ Emits ç±»å‹å®šä¹‰
```typescript
// âœ… ä½¿ç”¨ defineProps ä¸ TypeScript
interface Props {
  modelValue: string
  disabled?: boolean
  placeholder?: string
}
const props = withDefaults(defineProps<Props>(), {
  disabled: false,
  placeholder: 'è¯·è¾“å…¥'
})

// âœ… ä½¿ç”¨ defineEmits ä¸ç±»å‹
const emit = defineEmits<{
  'update:modelValue': [value: string]
  'change': [value: string]
}>()
```

### 1.3 Composables å‘½åä¸ç»“æ„
```typescript
// âœ… å‘½åä»¥ use å¼€å¤´ï¼Œè¿”å›å“åº”å¼æ•°æ®å’Œæ–¹æ³•
// src/composables/useVehicles.ts
export function useVehicles() {
  const vehicles = ref<Vehicle[]>([])
  const loading = ref(false)
  const error = ref<string | null>(null)

  async function fetchVehicles() {
    loading.value = true
    try {
      const r = await listVehicles()
      if (r.code === 0) vehicles.value = r.data ?? []
      else error.value = r.message
    } catch (e: any) {
      error.value = e?.message ?? 'åŠ è½½å¤±è´¥'
    } finally {
      loading.value = false
    }
  }

  return { vehicles, loading, error, fetchVehicles }
}
```

## 2. å“åº”å¼æœ€ä½³å®è·µ

### 2.1 ref vs reactive
```typescript
// âœ… åŸºç¡€ç±»å‹ç”¨ ref
const count = ref(0)
const isOpen = ref(false)

// âœ… å¯¹è±¡/æ•°ç»„ä¹Ÿä¼˜å…ˆç”¨ refï¼ˆä¸€è‡´æ€§æ›´å¥½ï¼‰
const form = ref({
  name: '',
  phone: ''
})

// âš ï¸ reactive ä»…åœ¨éœ€è¦æ·±å±‚å“åº”ä¸”ä¸ä¼šé‡æ–°èµ‹å€¼æ—¶ä½¿ç”¨
const state = reactive({
  nested: { value: 1 }
})
```

### 2.2 è®¡ç®—å±æ€§ä¼˜åŒ–
```typescript
// âœ… ä½¿ç”¨ computed ç¼“å­˜æ´¾ç”ŸçŠ¶æ€
const filteredItems = computed(() =>
  items.value.filter(item => item.status === 'active')
)

// âœ… å¸¦ setter çš„åŒå‘è®¡ç®—å±æ€§
const fullName = computed({
  get: () => `${firstName.value} ${lastName.value}`,
  set: (val) => {
    const [first, last] = val.split(' ')
    firstName.value = first
    lastName.value = last ?? ''
  }
})
```

### 2.3 Watch ä½¿ç”¨è§„èŒƒ
```typescript
// âœ… ç›‘å¬å•ä¸ª ref
watch(searchKeyword, (newVal) => {
  debouncedSearch(newVal)
})

// âœ… ç›‘å¬å¤šä¸ªæº
watch([page, pageSize], ([newPage, newSize]) => {
  fetchData(newPage, newSize)
})

// âœ… æ·±åº¦ç›‘å¬å¯¹è±¡ï¼ˆè°¨æ…ä½¿ç”¨ï¼Œæ€§èƒ½æ•æ„Ÿï¼‰
watch(form, (newForm) => {
  validateForm(newForm)
}, { deep: true })

// âœ… ç«‹å³æ‰§è¡Œ
watch(userId, fetchUserDetail, { immediate: true })
```

## 3. æ€§èƒ½ä¼˜åŒ–æ¨¡å¼

### 3.1 ç»„ä»¶æ‡’åŠ è½½
```typescript
// router/index.ts
const routes = [
  {
    path: '/supply',
    component: () => import('../views/SupplyView.vue') // âœ… è·¯ç”±çº§æ‡’åŠ è½½
  }
]
```

### 3.2 æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–
```vue
<!-- âœ… é¢‘ç¹åˆ‡æ¢ç”¨ v-show -->
<div v-show="isVisible">é¢‘ç¹æ˜¾ç¤º/éšè—çš„å†…å®¹</div>

<!-- âœ… æ¡ä»¶æ¸²æŸ“ç”¨ v-if -->
<HeavyComponent v-if="shouldRender" />
```

### 3.3 åˆ—è¡¨æ¸²æŸ“
```vue
<!-- âœ… å¿…é¡»æä¾›å”¯ä¸€ key -->
<div v-for="item in items" :key="item.id">{{ item.name }}</div>

<!-- âœ… å¤§åˆ—è¡¨ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨ (> 100 æ¡) -->
<el-table-v2 :data="largeList" :height="400" />
```

---

# ç¬¬å…«éƒ¨åˆ†ï¼šSpring Boot ä¼ä¸šçº§è§„èŒƒï¼ˆ2025 æœ€ä½³å®è·µï¼‰

> åŸºäº Smithery `spring-boot-best-practices` ä¸ `spring-boot-rest-api-standards` æŠ€èƒ½ã€‚

## 1. Controller å±‚è§„èŒƒ

### 1.1 ç»Ÿä¸€å“åº”æ ¼å¼
```java
// âœ… æ‰€æœ‰æ¥å£è¿”å› Result<T>
@GetMapping("/list")
public Result<List<SupplyDTO>> list(@RequestParam(required = false) String keyword) {
    return Result.success(supplyService.search(keyword));
}

// âœ… åˆ†é¡µå“åº”
@GetMapping("/page")
public Result<PageResult<RequirementDTO>> page(
    @RequestParam(defaultValue = "1") int page,
    @RequestParam(defaultValue = "10") int size) {
    return Result.success(requirementService.page(page, size));
}
```

### 1.2 å‚æ•°æ ¡éªŒ
```java
// âœ… ä½¿ç”¨ @Valid + DTO æ ¡éªŒ
@PostMapping
public Result<Long> create(@Valid @RequestBody CreateSupplyRequest req) {
    return Result.success(supplyService.create(req));
}

// DTO å®šä¹‰
public class CreateSupplyRequest {
    @NotBlank(message = "å“ç±»åç§°ä¸èƒ½ä¸ºç©º")
    private String categoryName;
    
    @NotNull(message = "å‡ºå‚ä»·ä¸èƒ½ä¸ºç©º")
    @DecimalMin(value = "0.01", message = "å‡ºå‚ä»·å¿…é¡»å¤§äº0")
    private BigDecimal exFactoryPrice;
    
    @Size(max = 500, message = "å¤‡æ³¨ä¸èƒ½è¶…è¿‡500å­—")
    private String remark;
}
```

### 1.3 å¼‚å¸¸å¤„ç†
```java
// âœ… å…¨å±€å¼‚å¸¸å¤„ç†å™¨
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(ApiException.class)
    public Result<?> handleApiException(ApiException e) {
        return Result.error(e.getCode(), e.getMessage());
    }
    
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public Result<?> handleValidation(MethodArgumentNotValidException e) {
        String msg = e.getBindingResult().getFieldErrors().stream()
            .map(FieldError::getDefaultMessage)
            .collect(Collectors.joining("; "));
        return Result.error(ResultCode.PARAM_ERROR.getCode(), msg);
    }
}
```

## 2. Service å±‚è§„èŒƒ

### 2.1 äº‹åŠ¡ç®¡ç†
```java
// âœ… å†™æ“ä½œåŠ äº‹åŠ¡
@Transactional(rollbackFor = Exception.class)
public Long createDeal(CreateDealRequest req) {
    // 1. æ ¡éªŒéœ€æ±‚çŠ¶æ€
    Requirement requirement = requirementMapper.selectById(req.getRequirementId());
    if (requirement == null) throw new ApiException("éœ€æ±‚ä¸å­˜åœ¨");
    
    // 2. æ ¡éªŒå‰©ä½™æ•°é‡
    BigDecimal remaining = calculateRemaining(requirement);
    if (remaining.compareTo(req.getQuantity()) < 0) {
        throw new ApiException("æˆäº¤æ•°é‡è¶…è¿‡å‰©ä½™æ•°é‡");
    }
    
    // 3. åˆ›å»ºæˆäº¤è®°å½•
    Deal deal = buildDeal(req, requirement);
    dealMapper.insert(deal);
    
    // 4. æ›´æ–°éœ€æ±‚çŠ¶æ€
    updateRequirementStatus(requirement, req.getQuantity());
    
    return deal.getId();
}
```

### 2.2 æŸ¥è¯¢ä¼˜åŒ–
```java
// âœ… é¿å… N+1 æŸ¥è¯¢ï¼Œä½¿ç”¨æ‰¹é‡æŸ¥è¯¢
public List<SupplyDTO> listWithCompany(List<Long> supplyIds) {
    List<Supply> supplies = supplyMapper.selectByIds(supplyIds);
    
    // æ‰¹é‡æŸ¥è¯¢å…³è”å…¬å¸
    Set<Long> companyIds = supplies.stream()
        .map(Supply::getCompanyId)
        .collect(Collectors.toSet());
    Map<Long, Company> companyMap = companyMapper.selectByIds(companyIds)
        .stream()
        .collect(Collectors.toMap(Company::getId, Function.identity()));
    
    // ç»„è£… DTO
    return supplies.stream()
        .map(s -> toDTO(s, companyMap.get(s.getCompanyId())))
        .toList();
}
```

## 3. æ•°æ®è®¿é—®å±‚è§„èŒƒ

### 3.1 MyBatis Mapper
```java
// âœ… æ¥å£æ–¹æ³•å‘½åè§„èŒƒ
public interface SupplyMapper {
    Supply selectById(Long id);
    List<Supply> selectByCompanyId(Long companyId);
    List<Supply> selectByCondition(SupplyQueryCondition condition);
    int insert(Supply supply);
    int updateById(Supply supply);
    int deleteById(Long id); // é€»è¾‘åˆ é™¤
}
```

### 3.2 XML åŠ¨æ€æŸ¥è¯¢
```xml
<!-- âœ… ä½¿ç”¨ <where> å’Œ <if> æ„å»ºåŠ¨æ€æ¡ä»¶ -->
<select id="selectByCondition" resultType="Supply">
    SELECT * FROM bus_supply
    <where>
        del_flag = 0
        <if test="companyId != null">
            AND company_id = #{companyId}
        </if>
        <if test="categoryName != null and categoryName != ''">
            AND category_name LIKE CONCAT('%', #{categoryName}, '%')
        </if>
        <if test="status != null">
            AND status = #{status}
        </if>
    </where>
    ORDER BY create_time DESC
</select>
```

## 4. å®‰å…¨è§„èŒƒ

### 4.1 SQL æ³¨å…¥é˜²æŠ¤
```java
// âœ… ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢
@Select("SELECT * FROM bus_company WHERE company_name = #{name}")
Company selectByName(@Param("name") String name);

// âŒ ç¦æ­¢å­—ç¬¦ä¸²æ‹¼æ¥ SQL
// "SELECT * FROM bus_company WHERE company_name = '" + name + "'"
```

### 4.2 æ•æ„Ÿæ•°æ®è„±æ•
```java
// âœ… è¿”å›å‰ç«¯æ—¶è„±æ•
public String maskPhone(String phone) {
    if (phone == null || phone.length() < 7) return phone;
    return phone.substring(0, 3) + "****" + phone.substring(7);
}

public String maskIdCard(String idCard) {
    if (idCard == null || idCard.length() < 14) return idCard;
    return idCard.substring(0, 6) + "********" + idCard.substring(14);
}
```

---

# ç¬¬ä¹éƒ¨åˆ†ï¼šUI/UX é«˜çº§è®¾è®¡æ¨¡å¼

> åŸºäº Smithery `ui-ux-pro-max` æŠ€èƒ½ï¼Œå¼•å…¥ 2025 å¹´å‰æ²¿è®¾è®¡è¶‹åŠ¿ã€‚

## 1. Bento Grid å¸ƒå±€ï¼ˆä»ªè¡¨ç›˜é¦–é€‰ï¼‰

```html
<!-- âœ… ç°ä»£ Bento Grid å¸ƒå±€ -->
<div class="grid grid-cols-4 gap-4 auto-rows-[120px]">
  <!-- å¤§å¡ç‰‡ï¼šè·¨ 2 åˆ— 2 è¡Œ -->
  <div class="col-span-2 row-span-2 bg-white rounded-2xl p-6 border border-gray-100">
    <h3 class="text-lg font-bold">æ ¸å¿ƒæŒ‡æ ‡</h3>
    <!-- å†…å®¹ -->
  </div>
  
  <!-- å°å¡ç‰‡ -->
  <div class="bg-white rounded-2xl p-4 border border-gray-100">
    <span class="text-xs text-gray-500">ä»Šæ—¥æˆäº¤</span>
    <p class="text-2xl font-bold">128</p>
  </div>
  
  <!-- æ›´å¤šå¡ç‰‡... -->
</div>
```

## 2. æ¯›ç»ç’ƒæ•ˆæœï¼ˆGlassmorphismï¼‰

```html
<!-- âœ… æ¯›ç»ç’ƒå¼¹çª—/æµ®å±‚ -->
<div class="fixed inset-0 bg-slate-900/40 backdrop-blur-md">
  <div class="bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20">
    <!-- å†…å®¹ -->
  </div>
</div>
```

## 3. å¾®äº¤äº’åŠ¨æ•ˆ

```html
<!-- âœ… å¡ç‰‡æ‚¬æµ®æ•ˆæœ -->
<div class="group bg-white rounded-2xl p-6 border border-gray-100 
            transition-all duration-300 ease-out
            hover:shadow-lg hover:border-emerald-200 hover:-translate-y-1">
  <div class="transition-transform duration-300 group-hover:scale-105">
    <!-- å›¾æ ‡æˆ–å›¾ç‰‡ -->
  </div>
</div>

<!-- âœ… æŒ‰é’®ç‚¹å‡»åé¦ˆ -->
<button class="bg-emerald-600 text-white px-6 py-2.5 rounded-xl font-bold
               transition-all duration-150 ease-out
               hover:bg-emerald-700 hover:shadow-md
               active:scale-95 active:shadow-sm">
  ç¡®è®¤æäº¤
</button>
```

## 4. ç©ºçŠ¶æ€è®¾è®¡

```html
<!-- âœ… æƒ…æ„ŸåŒ–ç©ºçŠ¶æ€ -->
<div class="flex flex-col items-center justify-center py-16 text-center">
  <div class="w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mb-6">
    <Package class="w-12 h-12 text-gray-300" />
  </div>
  <h3 class="text-lg font-bold text-gray-900 mb-2">æš‚æ— ä¾›åº”ä¿¡æ¯</h3>
  <p class="text-sm text-gray-500 mb-6 max-w-xs">
    æ‚¨è¿˜æ²¡æœ‰å‘å¸ƒä»»ä½•ä¾›åº”ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹å‘å¸ƒæ‚¨çš„ç¬¬ä¸€æ¡ä¾›åº”ä¿¡æ¯
  </p>
  <button class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all">
    ç«‹å³å‘å¸ƒ
  </button>
</div>
```
