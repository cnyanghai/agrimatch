server:
  port: 8080

spring:
  application:
    name: agrimatch-service
  servlet:
    multipart:
      enabled: true
      max-file-size: 50MB
      max-request-size: 55MB
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/nonghuitong?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&createDatabaseIfNotExist=true
    username: root
    password: red1986
  sql:
    init:
      mode: always
      encoding: UTF-8
      schema-locations:
        - classpath:db/agrimatch_core.sql
        - classpath:db/nht_product.sql
        - classpath:db/nht_product_parameters.sql
      continue-on-error: true

mybatis:
  mapper-locations: classpath*:mapper/*.xml
  configuration:
    map-underscore-to-camel-case: true
    jdbc-type-for-null: 'NULL'

logging:
  level:
    com.agrimatch: debug

app:
  upload-dir: uploads

amap:
  # 高德地图：Web服务 Key（用于后端地理编码：地址->经纬度）
  web-key: ${AMAP_WEB_KEY:930f93c17c0c8e2151c4ee557280044d}
  # 高德地图：JS API Key（前端加载地图脚本用）
  js-key: ${AMAP_JS_KEY:82642c209bb02d3e16b276221c35c5c3}

agrimatch:
  freight:
    # 运费单价（元/吨/公里），用于到厂价Beta：deliveredPrice = exFactoryPrice + distanceKm * rate
    rate-per-ton-km: 0.8

  # 短信服务配置
  sms:
    # 短信提供商：console（开发模式）| aliyun | tencent
    provider: console
    
    # 阿里云短信配置（provider=aliyun 时生效）
    aliyun:
      access-key-id: ${ALIYUN_SMS_ACCESS_KEY_ID:}
      access-key-secret: ${ALIYUN_SMS_ACCESS_KEY_SECRET:}
      sign-name: 农汇通
      template-code: ${ALIYUN_SMS_TEMPLATE_CODE:}
    
    # 腾讯云短信配置（provider=tencent 时生效）
    tencent:
      secret-id: ${TENCENT_SMS_SECRET_ID:}
      secret-key: ${TENCENT_SMS_SECRET_KEY:}
      app-id: ${TENCENT_SMS_APP_ID:}
      sign-name: 农汇通
      template-id: ${TENCENT_SMS_TEMPLATE_ID:}


