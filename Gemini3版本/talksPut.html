<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>发布话题 - AgriMatch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        .animate-zoom-in { animation: zoomIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes zoomIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center">

    <!-- 触发按钮 (演示用) -->
    <button id="openModal" class="bg-indigo-600 text-white px-8 py-3 rounded-full font-bold shadow-lg hover:bg-indigo-700 transition-all">
        立即发布话题
    </button>

    <!-- 发布窗口遮罩层 -->
    <div id="modalOverlay" class="fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6 hidden">
        <!-- 背景遮罩 -->
        <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm"></div>

        <!-- 发布窗口容器 -->
        <div class="relative bg-white w-full max-w-2xl rounded-[32px] shadow-2xl overflow-hidden flex flex-col animate-fade-in animate-zoom-in">
            
            <!-- 头部 -->
            <div class="px-8 py-6 border-b flex items-center justify-between bg-white sticky top-0 z-10">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
                    </div>
                    <div>
                        <h2 class="text-xl font-bold text-gray-900">发布新话题</h2>
                        <p class="text-[10px] text-gray-400 font-medium uppercase tracking-wider">分享行业见解，共建透明市场</p>
                    </div>
                </div>
                <button id="closeModal" class="p-2 hover:bg-gray-100 rounded-full text-gray-400 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>

            <!-- 主体内容 -->
            <div class="flex-1 overflow-y-auto p-8 space-y-8 max-h-[70vh]">
                
                <!-- 1. 类型切换 -->
                <section>
                    <label class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 block">选择发布类型</label>
                    <div class="grid grid-cols-3 gap-4">
                        <button class="type-btn active flex flex-col items-center gap-2 p-4 rounded-2xl border-2 border-indigo-600 bg-indigo-50 text-indigo-600 transition-all" data-type="general">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"></path></svg>
                            <span class="text-sm font-bold">普通话题</span>
                        </button>
                        <button class="type-btn flex flex-col items-center gap-2 p-4 rounded-2xl border-2 border-gray-100 text-gray-500 hover:border-amber-200 transition-all" data-type="bounty">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            <span class="text-sm font-bold">赏金求助</span>
                        </button>
                        <button class="type-btn flex flex-col items-center gap-2 p-4 rounded-2xl border-2 border-gray-100 text-gray-500 hover:border-emerald-200 transition-all" data-type="poll">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                            <span class="text-sm font-bold">发起投票</span>
                        </button>
                    </div>
                </section>

                <!-- 2. 标题与内容 -->
                <section class="space-y-4">
                    <input type="text" id="postTitle" placeholder="给你的话题起个响亮的标题" class="w-full text-2xl font-bold placeholder:text-gray-300 outline-none border-none">
                    <div class="h-px bg-gray-100 w-full"></div>
                    <textarea placeholder="分享你的见解、经验或疑问..." class="w-full h-40 resize-none outline-none text-gray-700 leading-relaxed placeholder:text-gray-300"></textarea>
                </section>

                <!-- 3. 动态赏金区域 (默认隐藏) -->
                <div id="bountySection" class="bg-amber-50 rounded-2xl p-6 border border-amber-100 hidden">
                    <div class="flex justify-between items-center mb-4">
                        <span class="font-bold text-amber-900 flex items-center gap-2">
                            <svg class="w-5 h-5 text-amber-500" fill="currentColor" viewBox="0 0 20 20"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.53 4.47a1 1 0 10-1.414 1.414 3 3 0 004.243 0 1 1 0 00-1.415-1.414 1 1 0 01-1.414 0z"></path></svg>
                            设置悬赏积分
                        </span>
                        <span id="pointsDisplay" class="text-xl font-black text-amber-600">50 pts</span>
                    </div>
                    <input type="range" min="10" max="500" value="50" class="w-full h-2 bg-amber-200 rounded-lg appearance-none cursor-pointer accent-amber-500" id="pointsRange">
                    <p class="text-[10px] text-amber-700 mt-4 leading-relaxed">* 悬赏积分将增加曝光率，吸引专家回答。</p>
                </div>

                <!-- 4. 标签选择 -->
                <section>
                    <label class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 block">添加标签 (最多3个)</label>
                    <div class="flex flex-wrap gap-2">
                        <span class="tag-chip px-4 py-2 bg-indigo-600 text-white rounded-full text-xs font-medium cursor-pointer">玉米</span>
                        <span class="tag-chip px-4 py-2 bg-gray-100 text-gray-500 rounded-full text-xs font-medium cursor-pointer hover:bg-gray-200">豆粕</span>
                        <span class="tag-chip px-4 py-2 bg-gray-100 text-gray-500 rounded-full text-xs font-medium cursor-pointer hover:bg-gray-200">配方技术</span>
                        <span class="tag-chip px-4 py-2 bg-gray-100 text-gray-500 rounded-full text-xs font-medium cursor-pointer hover:bg-gray-200">现货价格</span>
                    </div>
                </section>
            </div>

            <!-- 底部工具栏 -->
            <div class="px-8 py-6 bg-gray-50 border-t flex items-center justify-between">
                <div class="flex items-center gap-2">
                    <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
                    <span class="text-[10px] text-gray-500 font-bold">账号已认证 · 积分余额充足</span>
                </div>
                <div class="flex gap-4">
                    <button id="cancelBtn" class="text-sm font-bold text-gray-400 hover:text-gray-600">取消</button>
                    <button class="bg-indigo-600 text-white px-8 py-2.5 rounded-xl text-sm font-bold shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all">立即发布</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const modal = document.getElementById('modalOverlay');
        const openBtn = document.getElementById('openModal');
        const closeBtn = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const typeBtns = document.querySelectorAll('.type-btn');
        const bountySection = document.getElementById('bountySection');
        const range = document.getElementById('pointsRange');
        const display = document.getElementById('pointsDisplay');
        const postTitle = document.getElementById('postTitle');

        // 打开/关闭逻辑
        openBtn.onclick = () => {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        };
        const hideModal = () => {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        };
        closeBtn.onclick = hideModal;
        cancelBtn.onclick = hideModal;

        // 类型切换逻辑
        typeBtns.forEach(btn => {
            btn.onclick = () => {
                typeBtns.forEach(b => {
                    b.classList.remove('border-indigo-600', 'bg-indigo-50', 'text-indigo-600', 'border-amber-500', 'bg-amber-50', 'text-amber-600', 'border-emerald-500', 'bg-emerald-50', 'text-emerald-600');
                    b.classList.add('border-gray-100', 'text-gray-500');
                });
                
                const type = btn.dataset.type;
                if (type === 'general') {
                    btn.classList.add('border-indigo-600', 'bg-indigo-50', 'text-indigo-600');
                    bountySection.classList.add('hidden');
                    postTitle.placeholder = "给你的话题起个响亮的标题";
                } else if (type === 'bounty') {
                    btn.classList.add('border-amber-500', 'bg-amber-50', 'text-amber-600');
                    bountySection.classList.remove('hidden');
                    postTitle.placeholder = "简洁描述你的问题，例如：关于大豆水分...";
                } else if (type === 'poll') {
                    btn.classList.add('border-emerald-500', 'bg-emerald-50', 'text-emerald-600');
                    bountySection.classList.add('hidden');
                    postTitle.placeholder = "发起一个行业投票...";
                }
            };
        });

        // 赏金滑动条
        range.oninput = (e) => {
            display.innerText = `${e.target.value} pts`;
        };

        // 默认显示弹窗
        window.onload = () => openBtn.click();
    </script>
</body>
</html>